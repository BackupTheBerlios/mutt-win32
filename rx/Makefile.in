#
# A simplified Makefile for use with Mutt.

# Michael Elkins <me@cs.hmc.edu>
# 1/23/97

#
# No longer _that_ simple.
#
# tlr, 98-10-03
#

PACKAGE=@PACKAGE@
VERSION=@VERSION@

OBJS=	hashrexp.o rx.o rxanal.o rxbasic.o rxbitset.o rxcset.o \
	rxgnucomp.o rxhash.o rxnfa.o rxnode.o rxposix.o rxsimp.o \
	rxspencer.o rxstr.o rxsuper.o rxunfa.o

DISTFILES = COPYING.LIB Makefile.in _rx.h hashrexp.c inst-rxposix.h rx.c\
	rx.h rxall.h rxanal.c rxanal.h rxbasic.c rxbasic.h rxbitset.c \
	rxbitset.h rxcontext.h rxcset.c rxcset.h rxgnucomp.c rxgnucomp.h \
	rxhash.c rxhash.h rxnfa.c rxnfa.h rxnode.c rxnode.h rxposix.c \
	rxposix.h rxproto.h rxsimp.c rxsimp.h rxspencer.c rxspencer.h \
	rxstr.c rxstr.h rxsuper.c rxsuper.h rxunfa.c rxunfa.h


VPATH=@srcdir@
@SET_MAKE@

srcdir=@srcdir@
top_srcdir=@top_srcdir@
top_builddir=..

all: all-@RX_TARGET@

all-yes: librx.a

all-no: 
install:

librx.a: $(OBJS)
	ar rc librx.a $(OBJS)
	-ranlib librx.a

clean:
	rm -f *.o librx.a *~

maintainer-clean distclean: clean
	rm -f Makefile

distdir = ../$(PACKAGE)-$(VERSION)/$(subdir)

Makefile: ../config.status Makefile.in
	cd .. \
	  && CONFIG_FILES=$(subdir)/$@ CONFIG_HEADERS= $(SHELL) ./config.status
			  

dist distdir: Makefile $(DISTFILES)
	for file in $(DISTFILES) ; do                           \
		ln $(srcdir)/$$file $(distdir) 2> /dev/null 	\
			|| cp -p $(srcdir)/$$file  $(distdir);   \
	done
					

	
